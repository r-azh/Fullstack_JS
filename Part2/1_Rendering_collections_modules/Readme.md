# Rendering a collection, modules
## console.log
When something does not work, don't just guess what's wrong. Instead, log or use some other way of debugging.
separate the things to be printed with a comma
```js
console.log('props value is', props)
```

## Protip: Visual Studio Code snippets


With Visual Studio Code it's easy to create 'snippets', i.e., shortcuts for quickly generating commonly re-used portions of code, much like how 'sout' works in Netbeans.

Instructions for creating snippets can be found [here](https://code.visualstudio.com/docs/editing/userdefinedsnippets#_creating-your-own-snippets).

Useful, ready-made snippets can also be found as VS Code plugins, in the marketplace.

The most important snippet is the one for the console.log() command, for example, clog. This can be created like so:

Debugging your code using console.log() is so common that Visual Studio Code has that snippet built in. To use it, type log and hit Tab to autocomplete. More fully featured console.log() snippet extensions can be found in the [marketplace](https://marketplace.visualstudio.com/search?term=console.log&target=VSCode&category=All%20categories&sortBy=Relevance).

## JavaScript [Arrays](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)
From here on out, we will be using the functional programming operators of the JavaScript array, such as find, filter, and map - all of the time.

If operating arrays with functional operators feels foreign to you, it is worth watching at least the first three parts of the YouTube video series [Functional Programming in JavaScript](https://www.youtube.com/playlist?list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84):

    #### [Higher-order functions](https://www.youtube.com/watch?v=BMUiFMZr7vk&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84)
    #### [Map](https://www.youtube.com/watch?v=bCqtb-Z5YGQ&list=PL0zVEGEvSaeEd9hlmCXrk5yUyqUag-n84&index=2)
    #### [Reduce basics](https://www.youtube.com/watch?v=Wl98eZpkp-c&t=31s)

## Rendering Collections
React uses the key attributes of objects in an array to determine how to update the view generated by a component when the component is re-rendered. More about this is in the [React documentation](https://react.dev/learn/preserving-and-resetting-state#option-2-resetting-state-with-a-key).

## Map
array_name.map(function)
applies function on every element of the array

## Anti-pattern: Array Indexes as Keys
We could have made the error message on our console disappear by using the array indexes as keys. The indexes can be retrieved by passing a second parameter to the callback function of the map method: 
```js
notes.map((note, i)=> ...)
```
Related problems arise from this in [this article](https://robinpokorny.com/blog/index-as-a-key-is-an-anti-pattern/)

## Refactoring Modules / importing
We are only interested in the field notes of the props, so let's retrieve that directly using [destructuring](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment) also [this](https://fullstackopen.com/en/part1/component_state_event_handlers#destructuring)
```js 
const App = ({ notes }) => {
    ...
}
// instead of 
const App = (props) => {
  const {notes} = props
  ...
}
```

In separating li tags to another function, note that the key attribute must now be defined for the Note components, and not for the li tags like before.

A whole React application can be written in a single file. Although that is, of course, not very practical. Common practice is to declare each component in its own file as an ES6-module.

In smaller applications, components are usually placed in a directory called components, which is in turn placed within the src directory. The convention is to name the file after the component.
Now, we'll create a directory called components for our application and place a file named Note.jsx inside.
The last line of the module exports the declared module, the variable Note.

Note that when importing our own components, their location must be given in relation to the importing file:
```js
'./components/Note'
```

The period - . - in the beginning refers to the current directory, so the module's location is a file called Note.jsx in the components sub-directory of the current directory. The filename extension .jsx can be omitted.

Modules have plenty of other uses other than enabling component declarations to be separated into their own files. 

The current code of the application can be found on [GitHub](https://github.com/fullstack-hy2020/part2-notes-frontend/tree/part2-1).
If you clone the project, run the command `npm install` before starting the application with `npm run dev`.

## When the Application Breaks
Early in your programming career (and even after 30 years of coding like yours truly), what often happens is that the application just completely breaks down. This is even more so the case with dynamically typed languages, such as JavaScript, where the compiler does not check the data type. 
Because the first thing to be rendered is the App component, it's worth putting the first console.log there.

Quite often the root of the problem is that the props are expected to be of a different type, or called with a different name than they actually have, and destructuring fails as a result. The problem often begins to solve itself when destructuring is removed and we see what the props contain.


## Web developer's oath

Before the exercises, let me remind what you promised at the end of the previous part.

Programming is hard, that is why I will use all the possible means to make it easier

    I will have my browser developer console open all the time
    
    I progress with small steps

    I will write lots of console.log statements to make sure I understand how the code behaves and to help pinpoint problems

    If my code does not work, I will not write more code. Instead, I start deleting the code until it works or just return to a state when everything was still working

    When I ask for help in the course Discord channel or elsewhere I formulate my questions properly, see here how to ask for help


## Exercises 2.1.-2.5.

2.1: Course information step 6

2.2: Course information step 7

2.3*: Course information step 8

2.4: Course information step 9

2.5: Separate module step 10

